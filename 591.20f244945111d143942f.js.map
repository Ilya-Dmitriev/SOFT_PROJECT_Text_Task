{"version":3,"file":"591.20f244945111d143942f.js","mappings":"gmBASA,IA6CA,EA7Cc,WACZ,I,IAAsC,G,GAAZA,EAAAA,EAAAA,UAAS,I,EAAG,E,miBAA/BC,EAAK,KAAEC,EAAQ,KACRC,EAAUC,EAAAA,EAAAA,4BAAqC,CAC3DH,MAAAA,EACAI,KAAM,IAFAC,KAKFC,EAAUJ,aAAK,EAALA,EAAOK,QACrB,SAACC,EAAmBC,GAAI,OACtBD,EAAQE,SAASD,EAAKE,QAAUH,EAAU,GAAH,O,yWAAA,CAAOA,GAAO,CAAEC,EAAKE,QAAO,GACrE,IAEYC,EAAUC,EAAAA,EAAAA,uBAAgCP,GAAhDD,KAER,OACE,iBAAKS,UCvByB,yBDuBU,UACrCZ,IACC,SAAC,IAAc,CACba,WAAYb,EAAMc,OAClBC,KAAM,WACJhB,GAAS,SAACiB,GAAI,OAAKA,EAAO,EAAE,GAC9B,EACAC,SAAS,EACTC,OAAQ,KAAK,UAEb,SAAC,KAAI,CACHC,KAAK,QACLC,WAAYpB,EACZqB,WAAY,SAACd,GAAI,OACf,SAAC,KAAQ,CAEPA,KAAMA,EACNe,KAAMZ,aAAK,EAALA,EAAOa,MAAK,SAACD,GAAI,OAAKA,EAAKE,KAAOjB,EAAKE,MAAM,KAF9CF,EAAKiB,GAGV,OAKV,SAAC,UAAgB,CAACC,MAAO,EAAGb,UC9CkC,gBD8CR,4BAK5D,C","sources":["webpack:///./pages/Posts/Posts.tsx","webpack:///./pages/Posts/Posts.module.scss?d5b0"],"sourcesContent":["import { useState } from \"react\";\nimport { List, Typography } from \"antd\";\nimport { usersAPI } from \"../../servises/UsersServise\";\nimport { postsAPI } from \"../../servises/PostsServise\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { PostItem } from \"components\";\n\nimport classes from \"./Posts.module.scss\";\n\nconst Posts = () => {\n  const [limit, setLimit] = useState(10);\n  const { data: posts } = postsAPI.useFetchLimitPagePostsQuery({\n    limit,\n    page: 1,\n  });\n\n  const usersId = posts?.reduce(\n    (reduser: number[], post) =>\n      reduser.includes(post.userId) ? reduser : [...reduser, post.userId],\n    [],\n  );\n  const { data: users } = usersAPI.useFetchUserdByIdQuery(usersId);\n\n  return (\n    <div className={classes.posts_container}>\n      {posts && (\n        <InfiniteScroll\n          dataLength={posts.length}\n          next={() => {\n            setLimit((prev) => prev + 10);\n          }}\n          hasMore={true}\n          loader={null}\n        >\n          <List\n            size=\"large\"\n            dataSource={posts}\n            renderItem={(post) => (\n              <PostItem\n                key={post.id}\n                post={post}\n                user={users?.find((user) => user.id === post.userId)}\n              />\n            )}\n          />\n        </InfiniteScroll>\n      )}\n      <Typography.Title level={4} className={classes.footer}>\n        End of Posts\n      </Typography.Title>\n    </div>\n  );\n};\n\nexport default Posts;\n","// extracted by mini-css-extract-plugin\nexport default {\"posts_container\":\"posts_container--hAn3z\",\"footer\":\"footer--rowX2\"};"],"names":["useState","limit","setLimit","posts","postsAPI","page","data","usersId","reduce","reduser","post","includes","userId","users","usersAPI","className","dataLength","length","next","prev","hasMore","loader","size","dataSource","renderItem","user","find","id","level"],"sourceRoot":""}